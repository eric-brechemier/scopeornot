<!doctype html>
<html>
  <head>
    <title>Example 4 &mdash; Define Modules in a Shared Private Scope</title>
  </head>
  <h1>Example 4 &mdash; Define Modules in a Shared Private Scope</h1>
  <div id="log"></div>
  <p>
  In <a href="example3.html">Example 3</a>, all modules were defined in the
  global scope.
  </p>
  <p>
  By adding <a href="view-source:example4.html"
  >scope-level2-shared on top of scope-level1-global</a>,
  the same modules are now defined in a shared private scope.
  </p>
  <p>
  Because the log module needs the global 'document' object, which is not
  present initially in the shared context, an <a href="document.js"
  >extra module</a> must be loaded before to copy the global 'document'
  and make it available in shared context.
  </p>
  <p>
  Go on with <a href="example5.html">Example 5</a>.
  </p>
  <script src="../../scope-level1-global.js"></script>
  <script src="../../scope-level2-shared.js"></script>
  <script src="document.js"></script>
  <script src="../log.js"></script>
  <script src="../timestamp.js"></script>
  <script src="../timeModule.js"></script>
  <script>
  scope(function(context){
    context.timeModule.start();
  },["timeModule"]);

  scope(function(context){
    context.timeModule.stop();
    context.log(
      "Duration: " + context.timeModule.getDuration() + "ms"
    );
  },["log","timeModule"]);
  </script>
</html>
